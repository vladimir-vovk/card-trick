"use strict";function _objectSpread(a){for(var b=1;b<arguments.length;b++){var c=null==arguments[b]?{}:arguments[b],d=Object.keys(c);"function"==typeof Object.getOwnPropertySymbols&&(d=d.concat(Object.getOwnPropertySymbols(c).filter(function(a){return Object.getOwnPropertyDescriptor(c,a).enumerable}))),d.forEach(function(b){_defineProperty(a,b,c[b])})}return a}function _classCallCheck(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function _defineProperty(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}var DATAURI="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABsAAAAHCAYAAAD5wDa1AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyRpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYxIDY0LjE0MDk0OSwgMjAxMC8xMi8wNy0xMDo1NzowMSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNS4xIE1hY2ludG9zaCIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDozNDNFMzM5REEyMkUxMUUzOEE3NEI3Q0U1QUIzMTc4NiIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDozNDNFMzM5RUEyMkUxMUUzOEE3NEI3Q0U1QUIzMTc4NiI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOjM0M0UzMzlCQTIyRTExRTM4QTc0QjdDRTVBQjMxNzg2IiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOjM0M0UzMzlDQTIyRTExRTM4QTc0QjdDRTVBQjMxNzg2Ii8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+jzOsUQAAANhJREFUeNqsks0KhCAUhW/Sz6pFSc1AD9HL+OBFbdsVOKWLajH9EE7GFBEjOMxcUNHD8dxPBCEE/DKyLGMqraoqcd4j0ChpUmlBEGCFRBzH2dbj5JycJAn90CEpy1J2SK4apVSM4yiKonhePYwxMU2TaJrm8BpykpWmKQ3D8FbX9SOO4/tOhDEG0zRhGAZo2xaiKDLyPGeSyPM8sCxr868+WC/mvu9j13XBtm1ACME8z7AsC/R9r0fGOf+arOu6jUwS7l6tT/B+xo+aDFRo5BykHfav3/gSYAAtIdQ1IT0puAAAAABJRU5ErkJggg==",Sparkle=function a(b){var c=Math.floor,d=this,e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};_classCallCheck(this,a),_defineProperty(this,"randomParticleSize",function(){return c(Math.random()*(d.options.maxSize-d.options.minSize+1)+d.options.minSize)}),_defineProperty(this,"randomHexColor",function(){return"#"+("000000"+c(16777215*Math.random()).toString(16)).slice(-6)}),_defineProperty(this,"createSparkles",function(){// loop through and add a new particles
// on each loop for the count provided
for(var a,b=d.canvas,e=b.width,f=b.height,g=d.options,h=[],j=0;j<g.count;j++){a=void 0,a="rainbow"===g.color?d.randomHexColor():Array.isArray(g.color)?g.color[c(Math.random()*g.color.length)]:g.color;var l=c(1e3*Math.random())-500;"down"===g.direction?l=c(500*Math.random())-550:"up"===g.direction&&(l=c(500*Math.random())+50);// create a particle with random position,
// random sprite start point, delta, size and a defined color.
var k=g.spriteCoords;h[j]={position:{x:c(Math.random()*e),y:c(Math.random()*f)},style:k[c(Math.random()*k.length)],delta:{x:c(1e3*Math.random())-500,y:l},size:d.randomParticleSize(g),color:a}}return h}),_defineProperty(this,"show",function(){d.canvas.style.visibility="visible"}),_defineProperty(this,"hide",function(){d.canvas.style.visibility="hidden"}),_defineProperty(this,"resize",function(){var a=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null;// also if the base element is a singleton then we re-position the
// canvas. we don't want the canvas to be in the wrong position if
// something has moved.
if(a&&(d.parent=a),d.canvas.width=d.parent.offsetWidth+2*d.options.overlap,d.canvas.height=d.parent.offsetHeight+2*d.options.overlap,d.isSingleton){var b=d.parent.getBoundingClientRect(),c=b.top,e=b.left;d.canvas.style.top=c-d.options.overlap,d.canvas.style.left=e-d.options.overlap}}),_defineProperty(this,"start",function(){var a=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null;d.resize(a),d.show(),window.cancelAnimationFrame(d.anim);// randomize the opacity every time we over the animation
// this stops our particles all being at same opacity
// after the fadeout happens.
for(var b=0;b<d.options.count;b++)d.particles[b].opacity=Math.random();// run our update loop.
d.fade=!1,d.update()}),_defineProperty(this,"stop",function(){d.fade=!0,d.fadeCount=100}),_defineProperty(this,"update",function(){d.anim=window.requestAnimationFrame(function(a){// store a floored version of the time passed
for(var b=c(a),e=0;e<d.particles.length;e++){var f=d.particles[e],g=!1,h=Math.random()>2*Math.random(),j=Math.random()<5*Math.random();h&&(f.position.x+=f.delta.x*d.options.speed/1500),j&&(f.position.y-=f.delta.y*d.options.speed/800),f.position.x>d.canvas.width?(f.position.x=-d.options.maxSize,g=!0):f.position.x<-d.options.maxSize&&(f.position.x=d.canvas.width,g=!0),f.position.y>d.canvas.height?(f.position.y=-d.options.maxSize,f.position.x=c(Math.random()*d.canvas.width),g=!0):f.position.y<-d.options.maxSize&&(f.position.y=d.canvas.height,f.position.x=c(Math.random()*d.canvas.width),g=!0),g&&(f.size=d.randomParticleSize(),f.opacity=.4),f.opacity-=d.fade?.035:.005,.15>=f.opacity&&(f.opacity=d.fade?0:1.2),0==b%c(7*Math.random()+1)&&(f.style=d.options.spriteCoords[c(Math.random()*d.options.spriteCoords.length)])}// draw all the particles.
d.draw(a),d.fade?(d.fadeCount-=1,0>d.fadeCount?(window.cancelAnimationFrame(d.anim),d.hide()):d.update()):d.update()})}),_defineProperty(this,"draw",function(){d.context.clearRect(0,0,d.canvas.width,d.canvas.height);// for every particle
for(var a=0;a<d.particles.length;a++)// save the context so we can restore teh default settings.
d.context.save(),d.context.globalAlpha=d.particles[a].opacity,d.context.drawImage(d.sprite,d.particles[a].style,0,7,7,d.particles[a].position.x,d.particles[a].position.y,d.particles[a].size,d.particles[a].size),d.options.color&&(d.context.globalCompositeOperation="source-atop",d.context.globalAlpha=.6,d.context.fillStyle=d.particles[a].color,d.context.fillRect(d.particles[a].position.x,d.particles[a].position.y,7,7)),d.context.restore()}),this.options=_objectSpread({color:"rainbow",count:200,overlap:0,speed:1,minSize:4,maxSize:9,direction:"both",spriteCoords:[0,6,13,20]},e);var f=0-parseInt(this.options.overlap,10),g={position:"absolute",top:f.toString()+"px",left:f.toString()+"px","pointer-events":"none"};// check if the parent has a z-index, if it does
// then make the canvas 1 place higher than it!
if(this.parent=b,this.canvas=document.createElement("canvas"),this.canvas.classList.add("sparkle-canvas"),this.canvas.width=b.offsetWidth,this.canvas.height=b.offsetHeight,Object.keys(g).forEach(function(a){d.canvas.style[a]=g[a]}),this.context=this.canvas.getContext("2d"),b.style.position="relative","auto"!==b.style["z-index"]){var i=parseInt(b.style["z-index"],10);this.canvas.style["z-index"]=i+1}// check if the DOM element is a singleton, ie it
// doesnt have a closing tag... we can't put the canvas
// inside an <img> for example.
var h="\\b"+b.nodeName+"\\b";this.isSingleton=new RegExp(h).test("IMG|BR|HR|INPUT"),this.isSingleton?b.parentNode.insertBefore(this.canvas,b.nextSibling):b.appendChild(this.canvas),this.sprite=new Image,this.sprite.src=DATAURI,this.anim=null,this.fade=!1,this.particles=this.createSparkles()};